const CHARS: Record<string, string[]> = {
  A: ["▄▀▀▄", "█▀▀█", "▀  ▀"],
  B: ["█▀▀▄", "█▀▀▄", "▀▀▀ "],
  C: ["▄▀▀▀", "█   ", "▀▀▀▀"],
  D: ["█▀▀▄", "█  █", "▀▀▀ "],
  E: ["█▀▀▀", "█▀▀ ", "▀▀▀▀"],
  F: ["█▀▀▀", "█▀▀ ", "▀   "],
  G: ["▄▀▀▀", "█ ▀█", "▀▀▀▀"],
  H: ["█  █", "█▀▀█", "▀  ▀"],
  I: ["▀█▀", " █ ", "▀▀▀"],
  J: ["   █", "   █", "▀▀▀ "],
  K: ["█ ▄▀", "█▀▄ ", "▀  ▀"],
  L: ["█   ", "█   ", "▀▀▀▀"],
  M: ["█▄▄█", "█  █", "▀  ▀"],
  N: ["█▄ █", "█ ▀█", "▀  ▀"],
  O: ["▄▀▀▄", "█  █", "▀▀▀▀"],
  P: ["█▀▀▄", "█▀▀ ", "▀   "],
  Q: ["▄▀▀▄", "█  █", "▀▀▀▄"],
  R: ["█▀▀▄", "█▀▀▄", "▀  ▀"],
  S: ["▄▀▀▀", "▀▀▀▄", "▀▀▀ "],
  T: ["▀█▀", " █ ", " ▀ "],
  U: ["█  █", "█  █", "▀▀▀▀"],
  V: ["█  █", "█  █", " ▀▀ "],
  W: ["█  █", "█  █", "▀▀▀▀"],
  X: ["█  █", " ▀▀ ", "█  █"],
  Y: ["█  █", " ▀▀ ", " ▀  "],
  Z: ["▀▀▀█", " ▄▀ ", "▀▀▀▀"],
  "0": ["▄▀▀▄", "█  █", "▀▀▀▀"],
  "1": ["▄█ ", " █ ", "▀▀▀"],
  "2": ["▀▀▀▄", "▄▀▀ ", "▀▀▀▀"],
  "3": ["▀▀▀▄", " ▀▀▄", "▀▀▀ "],
  "4": ["█  █", "▀▀▀█", "   ▀"],
  "5": ["█▀▀▀", "▀▀▀▄", "▀▀▀ "],
  "6": ["▄▀▀ ", "█▀▀▄", "▀▀▀ "],
  "7": ["▀▀▀█", "  █ ", "  ▀ "],
  "8": ["▄▀▀▄", "▄▀▀▄", "▀▀▀▀"],
  "9": ["▄▀▀▄", "▀▀▀█", " ▀▀ "],
  "-": ["    ", " ▀▀ ", "    "],
  " ": ["  ", "  ", "  "],
  ":": [" ", "▀", "▀"],
  ".": [" ", " ", "▀"],
  "!": ["█", "█", "▀"],
  "?": ["▀▀▄", " ▄▀", " ▀ "],
};

const CHAR_HEIGHT = 3;

export const renderAsciiArt = (text: string): string[] => {
  const upper = text.toUpperCase();
  const lines: string[] = ["", "", ""];

  for (const char of upper) {
    const charLines = CHARS[char] ?? CHARS[" "] ?? ["", "", ""];
    for (let i = 0; i < CHAR_HEIGHT; i++) {
      lines[i] += `${charLines[i] ?? ""} `;
    }
  }

  return lines;
};

export const getAsciiArtWidth = (text: string): number => {
  const lines = renderAsciiArt(text);
  return Math.max(...lines.map((l) => l.length));
};
